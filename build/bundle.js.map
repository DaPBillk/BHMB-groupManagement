{"version":3,"file":"bundle.js","sources":["../src/Permissions/Permissions.ts","../src/Groups/Group.ts","../src/Groups/GroupManager.ts","../src/Permissions/Permission.ts","../src/Permissions/PermissionManager.ts","../src/Users/User.ts","../src/Users/UserManager.ts","../src/UI/index.ts","../src/GroupManagement.ts","../src/Extensions/BlockheadsHandler.ts","../src/Extensions/Blockheads.ts","../src/Extensions/GroupManagementHandler.ts","../src/Extensions/GroupManagement.ts","../src/index.ts"],"sourcesContent":["import { PermissionResolvable, Permission } from \"./Permission\";\nimport { Group } from \"../Groups/Group\";\nimport { User } from \"../Users/User\";\n\nexport interface PermissionsSaveData {\n  allowed: string[],\n  disabled: string[]\n}\n\nexport class Permissions {\n\n  allowed: Set<string>;\n\n  disabled: Set<string>;\n\n  parent: Group|User;\n  \n  constructor (parent : Group|User, permissions? : PermissionsSaveData) {\n    const data = permissions || {\n      allowed: [],\n      disabled: []\n    };\n\n    this.parent = parent;\n    this.allowed = new Set(data.allowed);\n    this.disabled = new Set(data.disabled);\n  }\n\n  has (permissionResolvable : PermissionResolvable) {\n    const permission = this.resolvePermission(permissionResolvable);\n    if (!permission) return false;\n    return this.allowed.has(permission.id);\n  }\n\n  add (permissionResolvable : PermissionResolvable, sudo : boolean = false, disabled : boolean = false) : boolean {\n    const permission = this.resolvePermission(permissionResolvable);\n    if (!permission || (this.allowed.has(permission.id) && !disabled && !this.disabled.has(permission.id)) || (this.disabled.has(permission.id) && !sudo)) return false;\n    this.allowed.add(permission.id);\n    if (this.parent.type === \"Group\") {\n      this.parent.permissionUIAllow(permission, true);\n    }\n    if (disabled && !this.disabled.has(permission.id)) {\n      this.disabled.add(permission.id);\n      if (this.parent.type === \"Group\") {\n        this.parent.permissionUIDisable(permission, true);\n      }\n    }\n    this.save();\n    return true;\n  }\n\n  delete (permissionResolvable : PermissionResolvable, sudo : boolean = false, disabled : boolean = false) : boolean {\n    const permission = this.resolvePermission(permissionResolvable);\n    if (!permission || (!sudo && this.disabled.has(permission.id))) return false;\n    const deleted = this.allowed.delete(permission.id);\n    const deletedDisabled = disabled ? this.disabled.delete(permission.id) : false;\n    this.save();\n    if (deleted && this.parent.type === \"Group\") {\n      this.parent.permissionUIAllow(permission, false);\n    }\n    if (deletedDisabled && this.parent.type === \"Group\") {\n      this.parent.permissionUIDisable(permission, false);\n    }\n    return deleted || deletedDisabled;\n  }\n\n  save () {\n    return this.parent.save();\n  }\n\n  private resolvePermission (permissionResolvable : PermissionResolvable) : Permission | undefined {\n    return this.parent.manager.management.permissions.get(permissionResolvable);\n  }\n\n  get data () : PermissionsSaveData {\n    return {\n      allowed: Array.from(this.allowed),\n      disabled: Array.from(this.disabled)\n    };\n  }\n}","import { Player } from \"@bhmb/bot\";\nimport { GroupManager } from \"./GroupManager\";\nimport { Permissions, PermissionsSaveData } from \"../Permissions/Permissions\";\nimport { User } from \"../Users/User\";\nimport { Permission } from \"../Permissions/Permission\";\n\nexport interface GroupData {\n  name: string;\n  permissions?: PermissionsSaveData;\n  players?: (Player|string)[];\n  managed?: boolean;\n};\n\nexport interface GroupConstructorData extends GroupData {\n  id: number;\n};\n\nexport interface GroupSaveData {\n  id: number;\n  name: string;\n  permissions: PermissionsSaveData\n  players: string[],\n  managed: boolean\n};\n\nexport type GroupResolvable = Group|string|number;\n\nexport class Group {\n\n  id: number;\n\n  name: string;\n\n  permissions: Permissions;\n\n  players: Set<Player>;\n\n  managed: boolean;\n\n  manager: GroupManager;\n\n  tab?: HTMLDivElement;\n\n  type: \"Group\";\n\n  constructor (groupData : GroupConstructorData, manager : GroupManager) {\n    this.manager = manager;\n    this.name = groupData.name;\n    this.id = groupData.id;\n    this.permissions = new Permissions(this, groupData.permissions);\n    this.players = new Set((groupData.players || []).map(playerOrName => typeof playerOrName === \"string\" ? this.manager.management.extension.world.getPlayer(playerOrName) : playerOrName));\n    this.managed = groupData.managed || false;\n    this.tab = manager.management.ui.addGroup(this);\n    this.type = \"Group\";\n\n    if (this.manager.management.users) {\n      for (const player of this.players) {\n        const user = this.manager.management.users.get(player);\n        user.groups.push(this);\n      }\n    }\n\n  }\n\n  /**\n   * Rename this group, will return if the operation was successful.\n   * @param newName New name\n   */\n  rename (newName : string) : boolean {\n    return this.manager.rename(this, newName);\n  }\n\n  /**\n   * Add a player to this group. Will return if the operation was successful.\n   * @param playerResolvable \n   */\n  addPlayer (playerResolvable : Player|User|string) {\n    const p = this.manager.management.extension.world.getPlayer(typeof playerResolvable === \"string\" ? playerResolvable : playerResolvable.name);\n    if (this.players.has(p) || this.managed) {\n      return false;\n    } else {\n      this.players.add(p);\n      this.save();\n      return true;\n    }\n  }\n\n  /**\n   * Remove a player from this group. Will return if the operation was successful.\n   * @param playerResolvable \n   */\n  removePlayer (playerResolvable : Player|User|string) {\n    const p = this.manager.management.extension.world.getPlayer(typeof playerResolvable === \"string\" ? playerResolvable : playerResolvable.name);\n    if (!this.managed && this.players.delete(p)) {\n      this.save();\n      return true;\n    }\n    return false;\n  }\n\n  /**\n   * Change the UI to mark this permission as selected/unselected.\n   * @param permission \n   */\n  permissionUIAllow (permission : Permission, check : boolean) {\n    if (this.tab) {\n      const input = this.tab.querySelector(`input[data-permission=\"${permission.id}\"]`) as HTMLInputElement;\n      input.checked = check;\n    }\n  }\n\n  /**\n   * Change the UI to mark this permission as disabled/not disabled.\n   * @param permission \n   */\n  permissionUIDisable (permission : Permission, disable : boolean) {\n    if (this.tab) {\n      const input = this.tab.querySelector(`input[data-permission=\"${permission.id}\"]`) as HTMLInputElement;\n      input.disabled = disable;\n    }\n  }\n\n  /**\n   * Delete this group, will return if the operation was successful.\n   */\n  delete () : boolean {\n    return this.manager.delete(this);\n  }\n\n  save () {\n    return this.manager.save();\n  }\n\n  /**\n   * Get data about the group that can be saved in storage.\n   */\n  get data () : GroupSaveData {\n    return {\n      id: this.id,\n      name: this.name,\n      permissions: this.permissions.data,\n      players: Array.from(this.players).map(player => player.name),\n      managed: this.managed\n    };\n  }\n}","import { Group, GroupData, GroupResolvable, GroupSaveData } from \"./Group\";\nimport { GroupManagement } from \"../GroupManagement\";\n\nconst SAVE_KEY = \"groups\";\n\nexport class GroupManager {\n\n  management: GroupManagement;\n\n  private _groups: Map<number, Group>;\n\n  constructor (management : GroupManagement) {\n    this.management = management;\n    \n    this._groups = new Map(this.management.extension.storage.get(SAVE_KEY, []).map((groupData : GroupSaveData) => [groupData.id, new Group(groupData, this)] as [number, Group]));\n  }\n\n  /**\n   * Adds a group.\n   * @param groupData Data about the group to be added. \n   */\n  add (groupData : GroupData) : Group|undefined {\n    if (!groupData.name.includes(\" \") && !this.get(groupData.name)) {\n      const id = this.nextID;\n      const group = new Group({id, ...groupData}, this);\n      this._groups.set(id, group);\n      this.save();\n      return group;\n    }\n  }\n\n  /**\n   * Delete a group, will return if the operation was successful.\n   * @param groupResolvable Some identifier that can resolve to the group being deleted.\n   */\n  delete (groupResolvable : GroupResolvable) : boolean {\n    const group = this.resolveGroup(groupResolvable);\n    if (!group || group.managed) return false;\n    this._groups.delete(group.id);\n    this.save();\n    this.management.ui.deleteGroup(group);\n    return true;\n  }\n\n  /**\n   * Retrieve a group.\n   * @param groupNameOrID Either the group's name or id.\n   */\n  get (groupNameOrID? : string|number) : Group|undefined|Map<number, Group> {\n    if (groupNameOrID) {\n      if (typeof groupNameOrID === \"string\") {\n        for (const [, group] of this._groups) {\n          if (group.name === groupNameOrID) {\n            return group;\n          }\n        }\n      } else {\n        return this._groups.get(groupNameOrID);\n      }\n    } else {\n      return this._groups;\n    }\n  }\n\n  /**\n   * Rename a group to another name. Will return if the operation was successful.\n   * @param groupResolvable Some identifier that can resolve to become the group to be renamed.\n   * @param newName New name of the group.\n   */\n  rename (groupResolvable : GroupResolvable, newName : string) : boolean {\n    const group = this.resolveGroup(groupResolvable);\n    if (!newName.includes(\" \") && group && !this.get(newName) && !group.managed) {\n      group.name = newName;\n      this.save();\n      this.management.ui.refreshGroup(group);\n      return true;\n    }\n    return false;\n  }\n\n  /**\n   * Resolve a group.\n   * @param groupResolvable The to be resolved.\n   */\n  private resolveGroup (groupResolvable : GroupResolvable) : Group|undefined {\n    let group;\n\n    if (typeof groupResolvable === \"string\") {\n      group = this.get(groupResolvable) as Group|undefined;\n    } else if (typeof groupResolvable === \"number\") {\n      group = this._groups.get(groupResolvable) as Group|undefined;\n    } else {\n      group = groupResolvable;\n    }\n    return group;\n  }\n\n  /**\n   * Save the group data to storage.\n   */\n  save () {\n    let saveData : GroupSaveData[] = [];\n    for (const [, group] of this._groups) {\n      saveData.push(group.data);\n    }\n    this.management.extension.storage.set(SAVE_KEY, saveData);\n  }\n\n  /**\n   * Get the next group ID.\n   */\n  get nextID () {\n    let latestID = 0;\n    for (const [id] of this._groups) {\n      if (id > latestID) {\n        latestID = id;\n      }\n    }\n    return latestID + 1;\n  }\n}","import { PermissionManager } from \"./PermissionManager\";\nimport { Player, MessageBot } from \"@bhmb/bot\";\n\nexport type PermissionResolvable = string|Permission;\n\nexport interface PermissionIgnoring {\n  mod?: boolean,\n  admin?: boolean,\n  staff?: boolean,\n  owner?: boolean\n}\n\nexport interface PermissionData {\n  extension: string;\n  id: string;\n  name: string;\n  category: string;\n  command: string;\n  callback: (player: Player, args: string, bot : MessageBot, id : string) => void,\n  ignore?: PermissionIgnoring\n};\n\ninterface InternalPermissionData {\n  id: string;\n  category: string;\n  name: string;\n  command: string;\n  callback: (player : Player, args : string, bot : MessageBot, id : string) => void\n  ignore?: PermissionIgnoring;\n};\n\nexport class Permission {\n\n  extension: string;\n\n  id: string;\n\n  name: string;\n\n  category: string;\n  \n  callback : (player : Player, args : string, bot : MessageBot, id : string) => void;\n\n  command: string;\n\n  manager: PermissionManager;\n\n  ignore?: PermissionIgnoring;\n\n  listener?: ({player, message} : {player : Player, message : string}) => void;\n\n  constructor (manager: PermissionManager, extension : string, data: InternalPermissionData) {\n    const {id, name, category, ignore, callback, command} = data;\n    this.extension = extension;\n    this.id = id;\n    this.name = name;\n    this.category = category;\n    this.ignore = ignore;\n    this.callback = callback;\n    this.command = command;\n    this.manager = manager;\n    this.listener = ({player, message} : {player : Player, message : string}) => this.handleMessage({player, message})\n    manager.management.extension.world.onMessage.sub(this.listener);\n\n  }\n\n  handleMessage ({player, message} : {player: Player, message: string}) {\n    const [command, ...argsRaw] = message.split(\" \");\n    const args = argsRaw.join(\" \");\n    const user = this.manager.management.users.get(player);\n    if (this.command.toLocaleUpperCase() === command.toLocaleUpperCase().slice(1)) {\n\n      if (user.permissions.has(this.id) || user.groups.some(group => group.permissions.has(this.id))) {\n        if (this.ignore) {\n          if (!(this.ignore.staff && player.isStaff) && !(this.ignore.admin && player.isAdmin) && !(this.ignore.mod && player.isMod) && !(this.ignore.owner && player.isOwner)) {\n            this.callback(player, args, this.manager.management.extension.bot, this.id);\n          }\n        } else {\n          this.callback(player, args, this.manager.management.extension.bot, this.id);\n        }\n      }\n    }\n  }\n\n  /**\n   * Delete this permission.\n   */\n  delete () : boolean {\n    return this.manager.delete(this);\n  }\n};","import { GroupManagement } from \"../GroupManagement\";\nimport { Permission, PermissionData, PermissionResolvable } from \"./Permission\";\nimport { Player } from \"@bhmb/bot\";\n\nexport class PermissionManager {\n\n  management: GroupManagement;\n\n  private _permissions: Map<string, Permission>;\n\n  constructor (management : GroupManagement) {\n    this.management = management;\n    this._permissions = new Map();\n  }\n\n  /**\n   * Add a permission, will return if the operation was successful.\n   */\n  add (permissionData : PermissionData) : boolean {\n    if (!this.get(permissionData.id)) {\n      this._permissions.set(permissionData.id, new Permission(this, permissionData.extension, {\n        id: permissionData.id,\n        name: permissionData.name,\n        category: permissionData.category,\n        ignore: permissionData.ignore,\n        command: permissionData.command,\n        callback: permissionData.callback\n      }));\n      this.management.ui.addPermission(this._permissions.get(permissionData.id) as Permission);\n      return true;\n    }\n    return false;\n  }\n\n  /**\n   * Delete a permission, will return in the operation was successful.\n   */\n  delete (permissionResolvable : PermissionResolvable) : boolean {\n    const id = this.resolvePermissionID(permissionResolvable);\n    const permission = this._permissions.get(id) as Permission;\n    const deleted = this._permissions.delete(id);\n    if (deleted) {\n      this.management.extension.world.onMessage.unsub(permission.listener as ({player, message} : {player: Player, message: string}) => void);\n    }\n    return deleted;\n  }\n\n  /**\n   * Get all permissions that belong to an extension.\n   * @param extension Extension\n   */\n  getExtensionPermissions (extension : string) : Permission[] {\n    const extensionPermissions = [];\n    const e = extension.toLocaleLowerCase();\n    for (const [, permission] of this._permissions) {\n      if (permission.extension.toLocaleLowerCase() === e) {\n        extensionPermissions.push(permission);\n      }\n    }\n    return extensionPermissions;\n  }\n\n  /**\n   * Get a permission.\n   */\n  get (permissionResolvable : PermissionResolvable) : Permission|undefined {\n    const id = this.resolvePermissionID(permissionResolvable);\n    return this._permissions.get(id);\n  }\n\n  uninstall () {\n    for (const [, permission] of this._permissions) {\n      this.delete(permission);\n    }\n  }\n\n  private resolvePermissionID (permissionResolvable : PermissionResolvable) : string {\n    return typeof permissionResolvable === \"string\" ? permissionResolvable : permissionResolvable.id;\n  }\n};","import { Player } from \"@bhmb/bot\";\nimport { UserManager } from \"./UserManager\";\nimport { Permissions, PermissionsSaveData } from \"../Permissions/Permissions\";\nimport { Group } from \"../Groups/Group\";\n\nexport type PlayerResolvable = User|Player|string;\n\nexport interface UserData {\n  player: Player|string;\n  permissions?: PermissionsSaveData;\n}\n\nexport interface UserSaveData {\n  player: string;\n  permissions: PermissionsSaveData;\n}\n\nexport class User {\n\n  manager: UserManager;\n\n  player: Player;\n\n  permissions: Permissions;\n\n  type: \"User\";\n\n  constructor (userData : UserData, manager : UserManager) {\n    this.manager = manager;\n    if (typeof userData.player === \"string\") {\n      this.player = this.manager.management.extension.world.getPlayer(userData.player);\n    } else {\n      this.player = userData.player;\n    }\n\n    this.permissions = new Permissions(this, userData.permissions);\n    this.type = \"User\";\n  }\n\n  /**\n   * Delete this user's permissions.\n   */\n  delete () : boolean {\n    return this.manager.delete(this);\n  }\n\n  /**\n   * Save\n   */\n  save () {\n    return this.manager.save();\n  }\n\n  get groups () {\n    const groups = Array.from((this.manager.management.groups.get() as Map<number, Group>).values()).filter(group => Array.from(group.players).some(player => player.name === this.name));\n    \n    if (this.player.isAdmin) {\n      groups.push(this.manager.management.groups.get(\"Administrator\") as Group);\n    }\n    if (this.player.isMod) {\n      groups.push(this.manager.management.groups.get(\"Moderator\") as Group);\n    }\n    groups.push(this.manager.management.groups.get(\"Anyone\") as Group);\n    \n    return groups;\n  }\n\n  /**\n   * Get the name of the user.\n   */\n  get name () {\n    return this.player.name;\n  }\n\n  /**\n   * Get a JSON object that can be saved to storage\n   */\n  get data () : UserSaveData {\n    return {\n      player: this.name,\n      permissions: this.permissions.data\n    };\n  }\n};","import { GroupManagement } from \"../GroupManagement\";\nimport { PlayerResolvable, User, UserSaveData } from \"./User\";\n\nconst SAVE_KEY = \"users\";\n\nexport class UserManager {\n  management: GroupManagement;\n\n  private _users: Map<string, User>;\n\n  constructor (management : GroupManagement) {\n    this.management = management;\n    this._users = new Map(this.management.extension.storage.get(SAVE_KEY, []).map((data : UserSaveData) => [data.player, new User(data, this)] as [string, User]));\n  }\n\n  get (playerResolvable : PlayerResolvable) {\n    const player = this.resolvePlayer(playerResolvable);\n    let user = this._users.get(player.name);\n    if (!user) {\n      //Create user.\n      user = new User({\n        player\n      }, this);\n      this._users.set(player.name, user);\n    }\n    return user;\n  }\n\n  delete (playerResolvable : PlayerResolvable) : boolean {\n    const user = this.resolvePlayer(playerResolvable);\n    if (!user) return false;\n    const deleted = this._users.delete(user.name);\n    //TODO: Remove from UI.\n    this.save();\n    return deleted;\n  }\n\n  save () {\n    let saveData : UserSaveData[] = [];\n    for (const [, user] of this._users) {\n      saveData.push(user.data);\n    }\n    this.management.extension.storage.set(SAVE_KEY, saveData);\n  }\n\n  private resolvePlayer (playerResolvable : PlayerResolvable) {\n    return this.management.extension.world.getPlayer(typeof playerResolvable === \"string\" ? playerResolvable : playerResolvable.name);\n  }\n\n}","import { UIExtensionExports } from \"@bhmb/ui\";\nimport { GroupManagement } from \"../GroupManagement\";\nimport { Group } from \"../Groups/Group\";\nimport { MessageBot } from \"@bhmb/bot\";\nimport { Permission } from \"../Permissions/Permission\";\nimport groupTabHTML from \"./Groups/Tab.html\";\nimport permissionHTML from \"./Groups/Permission.html\";\n\nclass UI {\n\n  private _ui : UIExtensionExports;\n\n  management : GroupManagement;\n\n  namespace : string;\n\n  constructor (management : GroupManagement) {\n    this._ui = management.extension.bot.getExports(\"ui\") as UIExtensionExports;\n    this.management = management;\n    this.namespace = \"dapersonmgn/groupManagement/tab\";\n    if (this._ui) {\n      this._ui.addTabGroup(\"Group Management\", this.namespace);\n    }\n  }\n\n  uninstall () {\n    if (this._ui) {\n      this._ui.removeTabGroup(this.namespace);\n    }\n  }\n\n  addPermission (permission : Permission) {\n    if (this._ui) {\n      const [parentCategory, subCategory] = permission.category.split(\"/\");\n      const groups = this.management.groups.get() as Map<number, Group>;\n      for (const [, group] of groups) {\n        const tab = group.tab as HTMLDivElement;\n        if (!tab.querySelector(`p[data-category=\"${parentCategory}\"]`)) {\n          //Parent category does not exist, we need to create it.\n          (tab.querySelector(\".menu\") as HTMLElement).innerHTML += `<p class=\"menu-label is-unselectable\" data-category=\"${parentCategory}\">${parentCategory}</p><ul class=\"menu-list\" data-category=\"${parentCategory}\"></ul>`;\n        }\n        if (!tab.querySelector(`ul[data-category=\"${parentCategory}\"] > li > a[data-subcategory=\"${subCategory}\"]`)) {\n            //Subcategory doesn't exist, create it.\n            const listEl = tab.querySelector(`ul[data-category=\"${parentCategory}\"]`) as HTMLUListElement;\n            listEl.innerHTML += `<li><a href=\"#\" class=\"is-unselectable\" data-subcategory=\"${subCategory}\">${subCategory}</a></li>`;\n            (listEl.querySelector(`a[data-subcategory=\"${subCategory}\"]`) as HTMLLinkElement).addEventListener(\"click\",  event => this.subcategoryListener(event, group));\n            (tab.querySelectorAll(\".box\")[1] as HTMLDivElement).innerHTML += `<div data-subcategory=\"${subCategory}\" data-category=\"${parentCategory}\" class=\"is-invisible\" style=\"display: none;\"><div class=\"columns\" style=\"padding-top: 2.5%;\"><div class=\"column\"></div><div class=\"column\"></div><div class=\"column\"></div></div></div>`;\n        }\n        //Add the permission to it's tab.\n        \n        const columns = Array.from(tab.querySelectorAll(`div[data-subcategory=\"${subCategory}\"][data-category=\"${parentCategory}\"] .column`)) as HTMLDivElement[];\n        const col = columns.sort((colA, colB) => colA.querySelectorAll(\"input[data-permission]\").length - colB.querySelectorAll(\"input[data-permission]\").length)[0];\n        col.innerHTML += permissionHTML\n          .replace(\"{ID}\", permission.id)\n          .replace(\"{PERMISSION}\", permission.name)\n          .replace(\"{ALLOWED}\", group.permissions.has(permission) ? \"checked \" : \"\")\n          .replace(\"{DISABLED}\", group.permissions.disabled.has(permission.id) ? \"disabled\" : \"\");\n  \n        (tab.querySelector(`a[data-subcategory=\"${subCategory}\"]`) as HTMLLinkElement).click();\n    }\n    }\n  }\n\n  addGroup (group : Group) : HTMLDivElement | undefined {\n    let tab : HTMLDivElement | undefined;\n    if (this._ui) {\n      tab = this._ui.addTab(group.name, this.namespace);\n      tab.innerHTML = groupTabHTML;\n      (tab.querySelector(\".title\") as HTMLSpanElement).innerText = group.name;\n      if (group.managed) {\n        tab.querySelectorAll(\".subtitle\")[0].innerHTML = \"\";\n      }\n\n      const permissions = MessageBot.extensions.map(extension => group.manager.management.permissions.getExtensionPermissions(extension)).reduce((pSetA, pSetB) => pSetA.concat(pSetB));\n\n      const categories : {\n        [category : string] : {\n          [subcategory : string] : Permission[]\n        }\n      } = {};\n      for (const permission of permissions) {\n        const [parentCategory, subCategory] = permission.category.split(\"/\");\n        if (!categories[parentCategory]) {\n          categories[parentCategory] = {};\n        }\n        if (!categories[parentCategory][subCategory]) {\n          categories[parentCategory][subCategory] = [];\n        }\n        categories[parentCategory][subCategory].push(permission);\n      }\n\n      let categoryHTML = \"\";\n      let firstSubCategorySelected = false;\n      let isSelected = false;\n      for (const parentCategory in categories) {\n        categoryHTML += `<p class=\"menu-label is-unselectable\" data-category=\"${parentCategory}\">${parentCategory}</p><ul class=\"menu-list\" data-category=\"${parentCategory}\">`;\n        for (const subCategory in categories[parentCategory]) {\n          if (firstSubCategorySelected) {\n            //Normal.\n            isSelected = false;\n            categoryHTML += `<li><a href=\"#\" class=\"is-unselectable\" data-subcategory=\"${subCategory}\">${subCategory}</a></li>`;\n          } else {\n            //Selected.\n            isSelected = true;\n            firstSubCategorySelected = true;\n            categoryHTML += `<li><a href=\"#\" class=\"is-unselectable\" style=\"background: #182b73; color: #ffffff;\" data-subcategory=\"${subCategory}\" data-selected>${subCategory}</a></li>`; \n          }\n          const columns : string[][] = [[], [], []];\n          let colNum = 0;\n          for (const permission of permissions) {\n            if (permission.category === `${parentCategory}/${subCategory}`) {\n              if (columns.length === colNum) {\n                colNum = 0;\n              }\n              columns[colNum].push(\n                permissionHTML\n                  .replace(\"{ID}\", permission.id)\n                  .replace(\"{PERMISSION}\", permission.name)\n                  .replace(\"{ALLOWED}\", group.permissions.has(permission) ? \"checked \" : \"\")\n                  .replace(\"{DISABLED}\", group.permissions.disabled.has(permission.id) ? \"disabled\" : \"\")\n              );\n              colNum++;\n            }\n          }\n          let subCategoryTab = `<div data-subcategory=\"${subCategory}\" data-category=\"${parentCategory}\" ${isSelected ? \"\" : 'class=\"is-invisible\" style=\"display: none;\"'}><div class=\"columns\" style=\"padding-top: 2.5%;\"><div class=\"column\">${columns[0].join(\"\")}</div><div class=\"column\">${columns[1].join(\"\")}</div><div class=\"column\">${columns[2].join(\"\")}</div></div></div>`;\n          (tab.querySelectorAll(\".box\")[1] as HTMLElement).innerHTML += subCategoryTab;\n        }\n        categoryHTML += `</ul>`;\n      }\n      (tab.querySelector(\".menu\") as HTMLElement).innerHTML = categoryHTML;\n      tab.addEventListener(\"change\", event => this.changePermissionListener(event, group));\n      tab.addEventListener(\"click\", event => this.clickListener(event, group));\n\n    }\n\n    // TODO: Select this tab.\n    return tab;\n  }\n\n  deleteGroup (group : Group) {\n    if (group.tab) {\n      this._ui.removeTab(group.tab);\n    }\n  }\n\n  refreshGroup (group : Group) {\n    if (group.tab) {\n      this.deleteGroup(group);\n      group.tab = this.addGroup(group);\n    }\n  }\n\n  changePermissionListener (event : Event, group : Group) {\n    const target = event.target as HTMLInputElement;\n    const permission = target.getAttribute(\"data-permission\") as string;\n    if (target.checked) {\n      group.permissions.add(permission);\n    } else {\n      group.permissions.delete(permission);\n    }\n  }\n\n  deleteGroupUI (group : Group) {\n    this._ui.alert(\"Are you sure?\", [\n      {\n        text: \"Yes\",\n        style: \"is-danger\"\n      },\n      {\n        text: \"Cancel\"\n      }\n    ], response => {\n      if (response === \"Yes\") {\n        const result = group.delete();\n        if (!result) {\n          this._ui.notify(\"Failed to delete group.\");\n        } else {\n          this._ui.toggleMenu();\n        }\n      }\n    });\n  }\n\n  renameGroupUI (group : Group) {\n    this._ui.prompt(\"What would you like to rename this group to?\", newName => {\n      if (newName) {\n        const result = group.rename(newName);\n        if (!result) {\n          this._ui.notify(\"Failed to rename group.\");\n        } else {\n          this._ui.toggleMenu();\n        }\n      }\n    });\n  }\n\n  addGroupUI () {\n    this._ui.prompt(\"What would you like to name this new group?\", name => {\n      if (name) {\n        const result = this.management.groups.add({\n          name\n        });\n        if (result) {\n          this._ui.toggleMenu();\n        } else if (name.includes(\" \")) {\n          this._ui.notify(\"Groups cannot have a space!\");\n        } else {\n          this._ui.notify(\"This group name already exists!\");\n        }\n      }\n    });\n  }\n\n  clickListener (event : MouseEvent, group : Group) {\n    const element = event.target as HTMLLinkElement;\n    if (element.tagName === \"A\") {\n      const action = element.getAttribute(\"data-action\");\n      if (action) {\n        switch (action) {\n          case \"rename\" :\n            this.renameGroupUI(group);\n          break;\n          case \"create\":\n            this.addGroupUI();\n          break;\n          case \"delete\":\n            this.deleteGroupUI(group);\n          break;\n        }\n      } else {\n        const subcategory = element.getAttribute(\"data-subcategory\");\n        if(subcategory) {\n          this.subcategoryListener(event, group);\n        }\n      }\n    }\n  }\n\n  subcategoryListener (event : MouseEvent, group : Group) {\n    const tab = group.tab as HTMLDivElement;\n    const wantedSubCategory = (event.target as HTMLElement).getAttribute(\"data-subcategory\");\n    const parentCategory = (((event.target as HTMLElement).parentElement as HTMLElement).parentElement as HTMLElement).getAttribute(\"data-category\");\n    const tabToShow = tab.querySelector(`div[data-subcategory=\"${wantedSubCategory}\"][data-category=\"${parentCategory}\"]`) as HTMLDivElement;\n    if (tabToShow.classList.contains(\"is-invisible\")) {\n      const oldSelectedCategory = ((((event.target as HTMLElement).parentElement as HTMLElement).parentElement as HTMLElement).parentElement as HTMLElement).querySelector(\"a[data-selected]\") as HTMLElement;\n      if (oldSelectedCategory) {\n        oldSelectedCategory.setAttribute(\"style\", \"\");\n        oldSelectedCategory.removeAttribute(\"data-selected\");\n        const tabToHide = tab.querySelector(`div[data-subcategory=\"${oldSelectedCategory.getAttribute(\"data-subcategory\")}\"][data-category=\"${((oldSelectedCategory.parentElement as HTMLElement).parentElement as HTMLElement).getAttribute(\"data-category\")}\"]`) as HTMLDivElement;\n        tabToHide.classList.add(\"is-invisible\");\n        tabToHide.setAttribute(\"style\", \"display: none\");\n      }\n      (event.target as HTMLElement).setAttribute(\"style\", \"background: #182b73; color: #ffffff;\");\n      (event.target as HTMLElement).setAttribute(\"data-selected\", \"\");\n      tabToShow.classList.remove(\"is-invisible\");\n      tabToShow.setAttribute(\"style\", \"\");\n    }\n  }\n\n}\n\nexport {\n  UI\n};","import { MessageBotExtension } from \"@bhmb/bot\";\nimport { GroupManager } from \"./Groups/GroupManager\";\nimport { PermissionManager } from \"./Permissions/PermissionManager\";\nimport { UserManager } from \"./Users/UserManager\";\nimport { UI } from \"./UI\";\n\nexport class GroupManagement {\n\n  groups: GroupManager;\n\n  users: UserManager;\n\n  permissions: PermissionManager;\n\n  extension: MessageBotExtension;\n\n  ui: UI;\n\n  constructor (ex : MessageBotExtension) {\n    this.extension = ex;\n    this.ui = new UI(this);\n    this.permissions = new PermissionManager(this);\n    this.groups = new GroupManager(this);\n    this.users = new UserManager(this);\n  }\n\n  /**\n   * Called when the extension is to be uninstalled.\n   */\n  uninstall () {\n    this.permissions.uninstall();\n    this.ui.uninstall();\n  }\n\n  /**\n   * Save the groups and users.\n   */\n  save () {\n    this.groups.save();\n    this.users.save();\n  }\n\n\n}","import { Player, MessageBot } from \"@bhmb/bot\";\nimport { GroupManagement } from \"../GroupManagement\";\n\nconst EXTENSION_ID = \"dapersonmgn/groupManagement\";\n\nconst helpMessages : {\n  [key: string] : string\n} = {\n  \"BH.HELP\": \"/HELP - display this message.\",\n  \"BH.PLAYERS\": \"/PLAYERS - list currently active players.\",\n  \"BH.KICK\": \"/KICK player_name - kicks player_name, but they will still be allowed to reconnect.\",\n  \"BH.BAN\": \"/BAN player_name_or_ip - adds player_name_or_ip to the blacklist, ban's that user's device from reconnecting with a different name, and kicks anyone who is no longer authorized.\",\n  \"BH.BAN_NO_DEVICE\": \"/BAN-NO-DEVICE player_name_or_ip - works the same as the ban command, but doesn't ban the player's device.\",\n  \"BH.UNBAN\": \"/UNBAN player_name_or_ip - removes player_name_or_ip from the blacklist.\",\n  \"BH.WHITELIST\": \"/WHITELIST player_name_or_ip - adds player_name_or_ip to the whitelist, and kicks anyone who is no longer authorized.\",\n  \"BH.UNWHITELIST\": \"/UNWHITELIST player_name_or_ip - removes player_name_or_ip from the whitelist, and kicks anyone who is no longer authorized.\",\n  \"BH.LIST_BLACKLIST\": \"/LIST-BLACKLIST - lists the 50 most recent players on the blacklist.\",\n  \"BH.LIST_WHITELIST\": \"/LIST-WHITELIST - lists the 50 most recent players on the whitelist.\",\n  \"BH.LIST_MODLIST\": \"/LIST-MODLIST - lists the 50 most recent players on the modlist.\",\n  \"BH.LIST_ADMINLIST\": \"/LIST-ADMINLIST - lists the 50 most recent players on the adminlist.\",\n  \"BH.PVPON\": \"/PVP-ON - enables PVP (Player vs. Player) so players can directly hurt each other.\",\n  \"BH.PVPOFF\": \"/PVP-OFF - disables PVP (Player vs. Player) so players cannot directly hurt each other\",\n  \"BH.LOADLISTS\": \"/LOAD-LISTS - reloads the blacklist.txt, modlist.txt and adminlist.txt files, and kicks anyone who is no longer authorized.\",\n  \"BH.MOD\": \"/MOD player_name - adds player_name to the modlist, allowing them to issue some server commands via chat.\",\n  \"BH.UNMOD\": \"/UNMOD player_name - removes player_name from the modlist.\",\n  \"BH.ADMIN\": \"/ADMIN player_name - adds player_name to the adminlist, allowing them to issue server commands via chat.\",\n  \"BH.UNADMIN\": \"/UNADMIN player_name - removes player_name from the adminlist.\",\n  \"BH.CLEAR_BLACKLIST\": \"/CLEAR-BLACKLIST - removes all names from the blacklist.\",\n  \"BH.CLEAR_WHITELIST\": \"/CLEAR-WHITELIST - removes all names from the whitelist.\",\n  \"BH.CLEAR_MODLIST\": \"/CLEAR-MODLIST - removes all names from the modlist.\",\n  \"BH.CLEAR_ADMINLIST\": \"/CLEAR-ADMINLIST - removes all names from the adminlist.\",\n  \"BH.SET_PASSWORD\": \"/SET-PASSWORD password - sets a new password, which all players except the owner must use in order to connect.\",\n  \"BH.REMOVE_PASSWORD\": \"/REMOVE-PASSWORD - removes the password, so all players may connect.\",\n  \"BH.SET_PRIVACY\": \"/SET-PRIVACY public/searchable/private - changes the privacy setting.\"\n};\n\nexport const callback = async (player : Player, args : string, bot : MessageBot, id : string) => {\n  const manager = (bot.getExports(EXTENSION_ID) as {manager: GroupManagement}).manager;\n  const user = manager.users.get(player);\n  const targetPlayer = bot.world.getPlayer(args);\n  const overview = await bot.world.getOverview();\n  let lists;\n\n  switch (id) {\n    case \"BH.HELP\":\n      let helpMessage = \"\\n\";\n      for (const permissionID in helpMessages) {\n        if (user.permissions.has(permissionID) || user.groups.some(group => group.permissions.has(permissionID))) {\n          helpMessage += helpMessages[permissionID]+\"\\n\";\n        }\n      }\n      bot.world.send(helpMessage);\n    break;\n\n    case \"BH.PLAYERS\":\n      bot.world.send(overview.online.length === 0 ? \"No players currently connected.\" : `There are ${overview.online.length} players connected:\\n${overview.online.join(\"\\n\")}`);\n    break;\n\n    case \"BH.KICK\":\n      if (!targetPlayer.isStaff) {\n        bot.world.send(`/KICK ${targetPlayer.name}`);\n      }\n    break;\n    case \"BH.KICK_MOD\":\n      if (!targetPlayer.isAdmin && targetPlayer.isMod) {\n        bot.world.send(`/KICK ${targetPlayer.name}`);\n      }\n    break;\n    case \"BH.KICK_ADMIN\":\n      if (targetPlayer.isAdmin) {\n        bot.world.send(`/KICK ${targetPlayer.name}`);\n      }\n    break;\n\n    case \"BH.BAN\":\n      if (!targetPlayer.isStaff) {\n        bot.world.send(`/BAN ${targetPlayer.name}`);\n        bot.world.send(`${targetPlayer.name} has been added to the blacklist`);\n      }\n    break;\n    case \"BH.BAN_MOD\":\n      if (targetPlayer.isMod && !targetPlayer.isAdmin) {\n        bot.world.send(`/BAN ${targetPlayer.name}`);\n        bot.world.send(`${targetPlayer.name} has been added to the blacklist`);\n      }\n    break;\n    case \"BH.BAN_ADMIN\":\n    if (targetPlayer.isAdmin && !targetPlayer.isOwner) {\n      bot.world.send(`/BAN ${targetPlayer.name}`);\n      bot.world.send(`${targetPlayer.name} has been added to the blacklist`);\n    }\n    break;\n\n    case \"BH.BAN_NO_DEVICE\":\n      if (!targetPlayer.isStaff) {\n        bot.world.send(`/BAN-NO-DEVICE ${targetPlayer.name}`);\n        bot.world.send(`${targetPlayer.name} has been added to the blacklist`);\n      }\n    break;\n    case \"BH.BAN_NO_DEVICE_MOD\":\n      if (!targetPlayer.isAdmin && targetPlayer.isMod) {\n        bot.world.send(`/BAN-NO-DEVICE ${targetPlayer.name}`);\n        bot.world.send(`${targetPlayer.name} has been added to the blacklist`);\n      }\n    break;\n    case \"BH.BAN_NO_DEVICE_ADMIN\":\n      if (targetPlayer.isAdmin && !targetPlayer.isOwner) {\n        bot.world.send(`/BAN-NO-DEVICE ${targetPlayer.name}`);\n        bot.world.send(`${targetPlayer.name} has been added to the blacklist`);\n      }\n    break;\n\n    case \"BH.LIST_MODLIST\":\n    case \"BH.LIST_ADMINLIST\":\n    case \"BH.LIST_BLACKLIST\":\n    case \"BH.LIST_WHITELIST\":\n      lists = await bot.world.getLists(true);\n      const listType = id.split(\"_\")[1].toLocaleLowerCase() as \"modlist\"|\"adminlist\"|\"blacklist\"|\"whitelist\";\n      bot.world.send(`${listType[0].toLocaleUpperCase()}${listType.slice(1)}:\\n${lists[listType].join(\", \")}`);\n    break;\n\n    case \"BH.UNBAN\":\n      lists = await bot.world.getLists(true);\n      if (lists.blacklist.map(s => s.toLocaleUpperCase()).includes(targetPlayer.name.toLocaleUpperCase())) {\n        bot.world.send(`${targetPlayer.name} was not on the blacklist.`);\n      } else {\n        bot.world.send(`/UNBAN ${targetPlayer.name}`);\n        bot.world.send(`${targetPlayer.name} has been removed from the blacklist.`);\n      }\n    break;\n\n    case \"BH.WHITELIST\":\n      if (targetPlayer.isWhitelisted) {\n        bot.world.send(`${targetPlayer.name} was already on the whitelist.`);\n      } else {\n        bot.world.send(`/WHITELIST ${targetPlayer.name}`);\n        bot.world.send(`${targetPlayer.name} has been added to the whitelist.`);\n      }\n    break;\n    case \"BH.UNWHITELIST\":\n      if (targetPlayer.isWhitelisted) {\n        bot.world.send(`/UNWHITELIST ${targetPlayer.name}`);\n        bot.world.send(`${targetPlayer.name} has been removed from the whitelist.`);\n      } else {\n        bot.world.send(`${targetPlayer.name} was not on the whitelist.`);\n      }\n    break;\n\n    case \"BH.STOP\":\n      bot.world.send(\"/STOP\");\n    break;\n\n    case \"BH.PVPON\":\n      if (overview.pvp) {\n        bot.world.send(\"PVP was already enabled.\");\n      } else {\n        bot.world.send(\"/PVP-ON\");\n        bot.world.send(\"PVP is now enabled.\");\n      }\n    break;\n    case \"BH.PVPOFF\":\n      if (overview.pvp) {\n        bot.world.send(\"/PVP-OFF\");\n        bot.world.send(\"PVP is now disabled.\");\n      } else {\n        bot.world.send(\"PVP was already disabled.\");\n      }\n    break;\n\n    case \"BH.LOADLISTS\":\n      bot.world.send(\"/LOAD-LISTS\");\n      bot.world.send(\"Reloaded lists.\");\n    break;\n\n    case \"BH.MOD\":\n        if (targetPlayer.isMod) {\n          bot.world.send(`${targetPlayer.name} was already on the modlist`);\n        } else {\n          bot.world.send(`/MOD ${targetPlayer.name}`);\n          bot.world.send(`${targetPlayer.name} has been added to the modlist`);\n        }\n    break;\n    case \"BH.UNMOD\":\n      if (targetPlayer.isMod) {\n        bot.world.send(`/UNMOD ${targetPlayer.name}`);\n        bot.world.send(`${targetPlayer.name} has been removed from the modlist`);\n      } else {\n        bot.world.send(`${targetPlayer.name} was not on the modlist`);\n      }\n    break;\n\n    case \"BH.ADMIN\":\n      if (targetPlayer.isAdmin) {\n        bot.world.send(`${targetPlayer.name} was already on the adminlist`);\n      } else {\n        bot.world.send(`/ADMIN ${targetPlayer.name}`);\n        bot.world.send(`${targetPlayer.name} has been added to the adminlist`);\n      }\n    break;\n    case \"BH.UNADMIN\":\n      if (targetPlayer.isAdmin) {\n        bot.world.send(`/UNADMIN ${targetPlayer.name}`);\n        bot.world.send(`${targetPlayer.name} has been removed from the adminlist`);\n      } else {\n        bot.world.send(`${targetPlayer.name} was not on the adminlist`);\n      }\n    break;\n\n    case \"BH.CLEAR_WHITELIST\":\n      bot.world.send(\"/CLEAR-WHITELIST\");\n      bot.world.send(\"Whitelist cleared.\");\n    break;\n    case \"BH.CLEAR_ADMINLIST\":\n      bot.world.send(\"/CLEAR-ADMINLIST\");\n      bot.world.send(\"Adminlist cleared.\");\n    break;\n    case \"BH.CLEAR_MODLIST\":\n      bot.world.send(\"/CLEAR-MODLIST\");\n      bot.world.send(\"Modlist cleared.\");\n    break;\n    case \"BH.CLEAR_BLACKLIST\":\n      bot.world.send(\"/CLEAR-BLACKLIST\");\n      bot.world.send(\"Blacklist cleared.\");\n    break;\n    \n    case \"BH.SET_PRIVACY\":\n      const privacy = args.toLocaleLowerCase();\n      if ([\"public\", \"searchable\", \"private\"].includes(privacy)) {\n        bot.world.send(`/SET-PRIVACY ${privacy}`);\n        bot.world.send(`Privacy setting has changed to ${privacy}.`);\n      }\n    break;\n\n    case \"BH.SET_PASSWORD\":\n      bot.world.send(`/SET-PASSWORD ${args}`);\n      bot.world.send(\"Password set.\");\n    break;\n    case \"BH.REMOVE_PASSWORD\":\n      if (overview.password) {\n        bot.world.send(`/REMOVE-PASSWORD ${args}`);\n        bot.world.send(\"Removed password.\");\n      } else {\n        bot.world.send(\"There was already no password set.\");\n      }\n    break;\n    \n\n  }\n\n\n};","import { callback } from \"./BlockheadsHandler\";\nimport { ExtensionPermission } from \"..\";\n\ninterface BlockheadExtensionPermission extends ExtensionPermission {\n  display: {\n    category: \"Blockheads/Moderator Commands\"|\"Blockheads/Administrator Commands\"|\"Blockheads/List Commands\"|\"Blockheads/World Commands\",\n    name: string\n  }\n}\n\nexport const BlockheadPermissions : BlockheadExtensionPermission[] =  [\n  {\n    callback,\n    id: \"BH.HELP\",\n    command: \"HELP\",\n    ignore: {\n      staff: true\n    },\n    display: {\n      category: \"Blockheads/Moderator Commands\",\n      name: \"View the /help message\"\n    },\n  },\n  {\n    callback,\n    id: \"BH.PLAYERS\",\n    command: \"PLAYERS\",\n    ignore: {\n      staff: true\n    },\n    display: {\n      category: \"Blockheads/Moderator Commands\",\n      name: \"View the /players message\"\n    }\n  },\n  {\n    callback,\n    id: \"BH.KICK\",\n    command: \"KICK\",\n    ignore: {\n      staff: true\n    },\n    display: {\n      category: \"Blockheads/Moderator Commands\",\n      name: \"Kick any normal player\"\n    }\n  },\n  {\n    callback,\n    id: \"BH.KICK_MOD\",\n    command: \"KICK\",\n    ignore: {\n      admin: true\n    },\n    display: {\n      category: \"Blockheads/Administrator Commands\",\n      name: \"Kick any moderator\"\n    }\n  },\n  {\n    callback,\n    id: \"BH.KICK_ADMIN\",\n    command: \"KICK\",\n    ignore: {\n      admin: true\n    },\n    display: {\n      category: \"Blockheads/Administrator Commands\",\n      name: \"Kick any administrator\"\n    }\n  },\n  {\n    callback,\n    id: \"BH.BAN\",\n    command: \"BAN\",\n    ignore: {\n      admin: true\n    },\n    display: {\n      category: \"Blockheads/Moderator Commands\",\n      name: \"Ban any normal player\"\n    }\n  },\n  {\n    callback,\n    id: \"BH.BAN_MOD\",\n    command: \"BAN\",\n    ignore: {\n      admin: true\n    },\n    display: {\n      category: \"Blockheads/Administrator Commands\",\n      name: \"Ban any moderator\"\n    }\n  },\n  {\n    callback,\n    id: \"BH.BAN_ADMIN\",\n    command: \"BAN\",\n    ignore: {\n      admin: true\n    },\n    display: {\n      category: \"Blockheads/Administrator Commands\",\n      name: \"Ban any administrator\"\n    }\n  },\n  {\n    callback,\n    id: \"BH.BAN_NO_DEVICE\",\n    command: \"BAN-NO-DEVICE\",\n    ignore: {\n      staff: true\n    },\n    display: {\n      category: \"Blockheads/Moderator Commands\",\n      name: \"Ban any normal player using /ban-no-device\"\n    }\n  },\n  {\n    callback,\n    id: \"BH.BAN_NO_DEVICE_MOD\",\n    command: \"BAN-NO-DEVICE\",\n    ignore: {\n      admin: true\n    },\n    display: {\n      category: \"Blockheads/Administrator Commands\",\n      name: \"Ban any moderator using /ban-no-device\"\n    }\n  },\n  {\n    callback,\n    id: \"BH.BAN_NO_DEVICE_ADMIN\",\n    command: \"BAN-NO-DEVICE\",\n    ignore: {\n      admin: true\n    },\n    display: {\n      category: \"Blockheads/Administrator Commands\",\n      name: \"Ban any administrator using /ban-no-device\"\n    }\n  },\n  {\n    callback,\n    id: \"BH.UNBAN\",\n    command: \"UNBAN\",\n    ignore: {\n      staff: true\n    },\n    display: {\n      category: \"Blockheads/Moderator Commands\",\n      name: \"Unban any player\"\n    }\n  },\n  {\n    callback,\n    id: \"BH.WHITELIST\",\n    command: \"WHITELIST\",\n    ignore: {\n      staff: true\n    },\n    display: {\n      category: \"Blockheads/List Commands\",\n      name: \"Whitelist any player\"\n    }\n  },\n  {\n    callback,\n    id: \"BH.UNWHITELIST\",\n    command: \"UNWHITELIST\",\n    ignore: {\n      staff: true\n    },\n    display: {\n      category: \"Blockheads/List Commands\",\n      name: \"Unwhitelist any player\"\n    }\n  },\n  {\n    callback,\n    id: \"BH.LIST_BLACKLIST\",\n    command: \"LIST-BLACKLIST\",\n    ignore: {\n      staff: true\n    },\n    display: {\n      category: \"Blockheads/List Commands\",\n      name: \"List the blacklist\"\n    }\n  },\n  {\n    callback,\n    id: \"BH.LIST_WHITELIST\",\n    command: \"LIST-WHITELIST\",\n    ignore: {\n      staff: true\n    },\n    display: {\n      category: \"Blockheads/List Commands\",\n      name: \"List the whitelist\"\n    }\n  },\n  {\n    callback,\n    id: \"BH.LIST_ADMINLIST\",\n    command: \"LIST-ADMINLIST\",\n    ignore: {\n      admin: true\n    },\n    display: {\n      category: \"Blockheads/List Commands\",\n      name: \"List the adminlist\"\n    }\n  },\n  {\n    callback,\n    id: \"BH.LIST_MODLIST\",\n    command: \"LIST-MODLIST\",\n    ignore: {\n      admin: true\n    },\n    display: {\n      category: \"Blockheads/List Commands\",\n      name: \"List the modlist\"\n    }\n  },\n  {\n    callback,\n    id: \"BH.STOP\",\n    command: \"STOP\",\n    ignore: {\n      admin: true\n    },\n    display: {\n      category: \"Blockheads/Administrator Commands\",\n      name: \"Stop the server\"\n    }\n  },\n  {\n    callback,\n    id: \"BH.PVPON\",\n    command: \"PVP-ON\",\n    ignore: {\n      admin: true\n    },\n    display: {\n      category: \"Blockheads/World Commands\",\n      name: \"Turn PVP on\"\n    }\n  },\n  {\n    callback,\n    id: \"BH.PVPOFF\",\n    command: \"PVP-OFF\",\n    ignore: {\n      admin: true\n    },\n    display: {\n      category: \"Blockheads/World Commands\",\n      name: \"Turn PVP off\"\n    }\n  },\n  {\n    callback,\n    id: \"BH.LOADLISTS\",\n    command: \"LOAD-LISTS\",\n    ignore: {\n      admin: true\n    },\n    display: {\n      category: \"Blockheads/List Commands\",\n      name: \"Reload the lists\"\n    }\n  },\n  {\n    callback,\n    id: \"BH.MOD\",\n    command: \"MOD\",\n    ignore: {\n      admin: true\n    },\n    display: {\n      category: \"Blockheads/Administrator Commands\",\n      name: \"Add others to the modlist\"\n    }\n  },\n  {\n    callback,\n    id: \"BH.UNMOD\",\n    command: \"UNMOD\",\n    ignore: {\n      admin: true\n    },\n    display: {\n      category: \"Blockheads/Administrator Commands\",\n      name: \"Remove others from the modlist\"\n    }\n  },\n  {\n    callback,\n    id: \"BH.ADMIN\",\n    command: \"ADMIN\",\n    ignore: {\n      admin: true\n    },\n    display: {\n      category: \"Blockheads/Administrator Commands\",\n      name: \"Add others to the adminlist\"\n    }\n  },\n  {\n    callback,\n    id: \"BH.UNADMIN\",\n    command: \"UNADMIN\",\n    ignore: {\n      admin: true\n    },\n    display: {\n      category: \"Blockheads/Administrator Commands\",\n      name: \"Remove others from the adminlist\"\n    }\n  },\n  {\n    callback,\n    id: \"BH.CLEAR_BLACKLIST\",\n    command: \"CLEAR-BLACKLIST\",\n    ignore: {\n      admin: true\n    },\n    display: {\n      category: \"Blockheads/List Commands\",\n      name: \"Clear the blacklist\"\n    }\n  },\n  {\n    callback,\n    id: \"BH.CLEAR_WHITELIST\",\n    command: \"CLEAR-WHITELIST\",\n    ignore: {\n      admin: true\n    },\n    display: {\n      category: \"Blockheads/List Commands\",\n      name: \"Clear the whitelist\"\n    }\n  },\n  {\n    callback,\n    id: \"BH.CLEAR_MODLIST\",\n    command: \"CLEAR-MODLIST\",\n    ignore: {\n      admin: true\n    },\n    display: {\n      category: \"Blockheads/List Commands\",\n      name: \"Clear the modlist\"\n    }\n  },\n  {\n    callback,\n    id: \"BH.CLEAR_ADMINLIST\",\n    command: \"CLEAR-ADMINLIST\",\n    ignore: {\n      admin: true\n    },\n    display: {\n      category: \"Blockheads/List Commands\",\n      name: \"Clear the adminlist\"\n    }\n  },\n  {\n    callback,\n    id: \"BH.SET_PASSWORD\",\n    command: \"SET-PASSWORD\",\n    ignore: {\n      owner: true\n    },\n    display: {\n      category: \"Blockheads/World Commands\",\n      name: \"Set the world's password.\"\n    }\n  },\n  {\n    callback,\n    id: \"BH.SET_PRIVACY\",\n    command: \"SET-PRIVACY\",\n    ignore: {\n      owner: true\n    },\n    display: {\n      category: \"Blockheads/World Commands\",\n      name: \"Set the privacy of the world\"\n    }\n  },\n  {\n    callback,\n    id: \"BH.REMOVE_PASSWORD\",\n    command: \"REMOVE-PASSWORD\",\n    ignore: {\n      owner: true\n    },\n    display: {\n      category: \"Blockheads/World Commands\",\n      name: \"Remove the world's password\"\n    }\n  }\n];","import { Player, MessageBot } from \"@bhmb/bot\";\nimport { GroupManagement } from \"../GroupManagement\";\nimport { Permission } from \"../Permissions/Permission\";\nimport { Group } from \"../Groups/Group\";\n\nconst EXTENSION_ID = \"dapersonmgn/groupManagement\";\n\nconst helpMessages : {\n  [key: string] : string\n} = {\n  \"GM.HELP\": \"/GM-HELP - displays this message\",\n  \"GM.CHECK\": \"/GM-CHECK command_name player_name - checks whether or not the player has a permission.\",\n  \"GM.USER\": \"/GM-USER player_name - displays all the permissions a user has, along with what groups the user is in\",\n  \"GM.GROUP\": \"/GM-GROUP group_name - display information about a group\",\n  \"GM.ADD\": \"/GM-ADD group_name player_name - adds a user to a group\",\n  \"GM.REMOVE\": \"/GM-REMOVE group_name player_name - removes a user from a group\",\n  \"GM.GSET\": \"/GM-GSET command_name value group_name - sets a group's permission to a value\",\n  \"GM.USET\": \"/GM-USET command_name value player_name - sets a user's permission to a value\",\n  \"GM.CREATE\": \"/GM-CREATE group_name - creates a group\",\n  \"GM.DESTORY\": \"/GM-DESTROY group_name - destroys a group\",\n  \"GM.LIST\": \"/GM-LIST group_name - view the last 50 players added to a group\"\n};\n\nexport const callback = (player : Player, args : string, bot : MessageBot, id : string) => {\n  const manager = (bot.getExports(EXTENSION_ID) as {manager: GroupManagement}).manager;\n  const argsArr = args.split(\" \");\n  const user = manager.users.get(player);\n  \n  switch (id) {\n    case \"GM.HELP\":\n      let helpMessage = \"\\n\";\n      for (const permissionID in helpMessages) {\n        if (user.permissions.has(permissionID) || user.groups.some(group => group.permissions.has(permissionID))) {\n          helpMessage += helpMessages[permissionID]+\"\\n\";\n        }\n      }\n      bot.world.send(helpMessage);\n    break;\n    \n    case \"GM.CHECK\":\n      if (argsArr.length < 2) {\n        bot.world.send(`You didn't specify enough arguments.\\nExample: /GM-CHECK KICK PLAYER_NAME\\nThis would check if PLAYER_NAME has permission to use the KICK command.`);\n      } else {\n        const [command, ...userArgs] = argsArr;\n        const permissions = MessageBot.extensions.map(extension => manager.permissions.getExtensionPermissions(extension)).reduce((pSetA, pSetB) => pSetA.concat(pSetB));\n        const commandPermissions = permissions.filter(permission => permission.command.toLocaleUpperCase() === command.toLocaleUpperCase() || (permission.command.toLocaleUpperCase() === command.slice(1).toLocaleUpperCase() && command.startsWith(\"/\")));\n        const targetUser = manager.users.get(userArgs.join(\" \"));\n        if (commandPermissions.some(permission => targetUser.permissions.has(permission) || Array.from(targetUser.groups).some(group => group.permissions.has(permission)))) {\n          bot.world.send(`\\n${targetUser.name} has the ability to use the command ${command.toLocaleUpperCase()}`);\n        } else {\n          bot.world.send(`\\n${targetUser.name} cannot use the command ${command.toLocaleUpperCase()}`);\n        }\n      }\n    break;\n\n    case \"GM.USER\":\n      if (argsArr.length < 1) {\n        bot.world.send(\"You didn't specify enough arguments.\\nExample: /GM-USER PLAYER_NAME\\nThis would display information about a user.\");\n      } else {\n        const targetUser = manager.users.get(args);\n        bot.world.send(`\\n${targetUser.name}\\nHas user specific permissions to use:\\n${Array.from(targetUser.permissions.allowed).map(id => `/${(manager.permissions.get(id) as Permission).command}`).join(\"\\n\")}\\nIs in the groups:\\n${targetUser.groups.map(group => group.name).join(\"\\n\")}`);\n      }\n    break;\n\n    case \"GM.GROUP\":\n      if (argsArr.length < 1) {\n        bot.world.send(\"You didn't specify enough arguments.\\nExample: /GM-GROUP Anyone\\nThis would display information about the Anyone group.\")\n      } else {\n        const group = manager.groups.get(args) as Group;\n        if (!group) {\n          bot.world.send(\"This group does not exist! Group names are CaSe SeNsItIvE!\");\n        } else {\n          bot.world.send(`\\n${group.name}:\\nPlayers: ${group.players.size}\\nThis group can use the commands:\\n${Array.from(group.permissions.allowed).map(id => `${(manager.permissions.get(id) as Permission).command}`).join(\", \")}`);\n        }\n      }\n    break;\n\n    case \"GM.ADD\":\n      if (argsArr.length < 2) {\n        bot.world.send(\"You didn't specify enough arguments.\\nExample: /GM-ADD GROUP_NAME PLAYER_NAME\\nThis would add PLAYER_NAME to GROUP_NAME\");\n      } else {\n        const [groupName, ...playerNameArr] = argsArr;\n        const group = manager.groups.get(groupName) as Group;\n        if (!group) {\n          bot.world.send(\"This group does not exist! Group names are CaSe SeNsItIvE!\");\n        } else {\n          const hasMorePermissions = Array.from(group.permissions.allowed).filter(id => user.permissions.has(id) || user.groups.some(group => group.permissions.has(id))).length > 0;\n          if (hasMorePermissions && !player.isOwner) {\n            bot.world.send(\"This group has more permissions than you do! You cannot give this group to others!\");\n          } else if (group.managed) {\n            bot.world.send(`You cannot give other players the ${group.name} group! It is managed internally by the extension!`);\n          } else {\n            const playerName = playerNameArr.join(\" \");\n            if (group.addPlayer(playerName)) {\n              bot.world.send(`Added ${playerName.toLocaleUpperCase()} to ${group.name}.`)\n            } else {\n              bot.world.send(`\\n${playerName.toLocaleUpperCase()} is already in ${group.name}!`);\n            }\n          }\n        }\n      }\n    break;\n\n    case \"GM.REMOVE\":\n      if (argsArr.length < 2) {\n        bot.world.send(\"You didn't specify enough arguments.\\nExample: /GM-REMOVE GROUP_NAME PLAYER_NAME\\nThis would remove PLAYER_NAME from GROUP_NAME\");\n      } else {\n        const [groupName, ...playerNameArr] = argsArr;\n        const group = manager.groups.get(groupName) as Group;\n        if (!group) {\n          bot.world.send(\"This group does not exist! Group names are CaSe SeNsItIvE!\");\n        } else {\n          const hasMorePermissions = Array.from(group.permissions.allowed).filter(id => user.permissions.has(id) || user.groups.some(group => group.permissions.has(id))).length > 0;\n          if (hasMorePermissions && !player.isOwner) {\n            bot.world.send(\"This group has more permissions than you do! You cannot remove this group from others!\");\n          } else if (group.managed) {\n            bot.world.send(`You cannot remove ${group.name} from other players! It is managed internally by the extension!`);\n          } else {\n            const playerName = playerNameArr.join(\" \");\n            if (group.removePlayer(playerName)) {\n              bot.world.send(`Removed ${playerName.toLocaleUpperCase()} from ${group.name}.`)\n            } else {\n              bot.world.send(`\\n${playerName.toLocaleUpperCase()} was already not in ${group.name}!`);\n            }\n          }\n        } \n      }\n    break;\n\n    case \"GM.GSET\":\n      if (argsArr.length < 3) {\n        bot.world.send(\"You didn't specify enough arguments.\\nExample: /GM-GSET COMMAND_NAME 1 GROUP_NAME\\nThis would set any permission that can be activated by /COMMAND_NAME to true of the group GROUP_NAME. Alternatively if you wish to disable a permission already true, replace 1 with 0.\");\n      } else {\n        const [command, value, ...groupNameArr] = argsArr;\n        const groupName = groupNameArr.join(\" \");\n        const group = manager.groups.get(groupName) as Group;\n        if (!group) {\n          bot.world.send(\"This group does not exist! Group names are CaSe SeNsItIvE!\");\n        } else {\n          if (![\"1\", \"0\"].includes(value)) {\n            bot.world.send(\"The value MUST be either 1 or 0.\");\n          } else {\n            const permissions = MessageBot.extensions.map(extension => manager.permissions.getExtensionPermissions(extension)).reduce((pSetA, pSetB) => pSetA.concat(pSetB));\n            const commandPermissions = permissions.filter(permission => permission.command.toLocaleUpperCase() === command.toLocaleUpperCase() || (permission.command.toLocaleUpperCase() === command.slice(1).toLocaleUpperCase() && command.startsWith(\"/\")));\n            if (commandPermissions.length === 0) {\n              bot.world.send(`There is no registered command by the name of ${command.startsWith(\"/\") ? command.toLocaleUpperCase() : `/${command.toLocaleUpperCase()}`}`);\n            } else {\n              if (value === \"1\") {\n                group.permissions.add(commandPermissions[0]);\n                bot.world.send(`\\n${command.startsWith(\"/\") ? command.toLocaleUpperCase() : `/${command.toLocaleUpperCase()}`} is now enabled for the group ${group.name}.`);\n              } else {\n                group.permissions.delete(commandPermissions[0]);\n                bot.world.send(`\\n${command.startsWith(\"/\") ? command.toLocaleUpperCase() : `/${command.toLocaleUpperCase()}`} is now disabled for the group ${group.name}.`);\n              }\n            }\n          }\n        }\n      }\n    break;\n\n    case \"GM.USET\":\n      if (argsArr.length < 3) {\n        bot.world.send(\"You didn't specify enough arguments.\\nExample: /GM-USET COMMAND_NAME 1 PLAYER_NAME\\nThis would set any permission that can be activated by /COMMAND_NAME to true of the user PLAYER_NAME. Alternatively if you wish to disable a permission already true, replace 1 with 0.\");\n      } else {\n        const [command, value, ...playerNameArr] = argsArr;\n        const userName = playerNameArr.join(\" \");\n        const user = manager.users.get(userName);\n        if (![\"1\", \"0\"].includes(value)) {\n          bot.world.send(\"The value MUST be either 1 or 0.\");\n        } else {\n          const permissions = MessageBot.extensions.map(extension => manager.permissions.getExtensionPermissions(extension)).reduce((pSetA, pSetB) => pSetA.concat(pSetB));\n          const commandPermissions = permissions.filter(permission => permission.command.toLocaleUpperCase() === command.toLocaleUpperCase() || (permission.command.toLocaleUpperCase() === command.slice(1).toLocaleUpperCase() && command.startsWith(\"/\")));\n          if (value === \"1\") {\n            user.permissions.add(commandPermissions[0]);\n            bot.world.send(`\\n${command.startsWith(\"/\") ? command.toLocaleUpperCase() : `/${command.toLocaleUpperCase()}`} is now enabled for the user ${user.name}.`);\n          } else {\n            user.permissions.delete(commandPermissions[0]);\n            bot.world.send(`\\n${command.startsWith(\"/\") ? command.toLocaleUpperCase() : `/${command.toLocaleUpperCase()}`} is now disabled for the user ${user.name}.`);\n          }\n        }\n        \n      }\n    break;\n    \n    case \"GM.CREATE\":\n      if (argsArr.length < 1) {\n        bot.world.send(\"You didn't specify enough arguments.\\nExample: /GM-CREATE TEST\\nThis would create a group named TEST. Groups are CaSe SeNsItIvE and cannot contain spaces!\");\n      } else {\n        if (manager.groups.get(args)) {\n          bot.world.send(\"This group already exists! Choose another name.\");\n        } else if (args.includes(\" \")) {\n          bot.world.send(\"Group names cannot include spaces!\");\n        } else {\n          manager.groups.add({ name: args });\n          bot.world.send(`The group ${args} was created!`);\n        }\n      }\n    break;\n\n    case \"GM.DESTROY\":\n      if (argsArr.length < 1) {\n        bot.world.send(\"You didn't specify enough arguments.\\nExample: /GM-DESTROY TEST\\nThis would delete any group named TEST. Groups are CaSe SeNsItIvE!\");\n      } else {\n        const group = manager.groups.get(args) as Group;\n        if (group) {\n          group.delete();\n          bot.world.send(`Deleted the group ${group.name}.`);\n        } else {\n          bot.world.send(\"This group does not exist.\");\n        }\n      }\n    break;\n\n    case \"GM.LIST\":\n      if (argsArr.length < 1) {\n        bot.world.send(\"You didn't specify enough arguments.\\nExample: /GM-LIST TEST\\nThis would list the last 50 players of the group TEST.\");\n      } else {\n        const group = manager.groups.get(args) as Group;\n        if (group) {\n          bot.world.send(`\\n${group.name}:\\n${Array.from(group.players).slice(-50).reverse().map(player => player.name).join(\", \")}`);\n        } else {\n          bot.world.send(\"This group does not exist.\");\n        }\n      }\n    break;\n  }\n};","import { callback } from \"./GroupManagementHandler\";\nimport { ExtensionPermission } from \"..\";\n\ninterface GroupManagementExtensionPermission extends ExtensionPermission {\n  display: {\n    category: \"Group Management/General Commands\"|\"Group Management/Group Commands\"|\"Group Management/Permission Commands\",\n    name: string\n  }\n}\n\nexport const GroupManagementPermissions : GroupManagementExtensionPermission[] = [\n  {\n    callback,\n    id: \"GM.HELP\",\n    command: \"GM-HELP\",\n    display: {\n      category: \"Group Management/General Commands\",\n      name: \"View the /GM-help message\"\n    },\n  },\n  {\n    callback,\n    id: \"GM.CHECK\",\n    command: \"GM-CHECK\",\n    display: {\n      category: \"Group Management/General Commands\",\n      name: \"Check if a player has permission to use a command with /GM-check\"\n    }\n  },\n  {\n    callback,\n    id: \"GM.USER\",\n    command: \"GM-USER\",\n    display: {\n      category: \"Group Management/General Commands\",\n      name: \"View all the groups/user specific permissions a user has with /GM-user\"\n    }\n  },\n  {\n    callback,\n    id: \"GM.GROUP\",\n    command: \"GM-GROUP\",\n    display: {\n      category: \"Group Management/Group Commands\",\n      name: \"View information about a group with /GM-group\"\n    }\n  },\n  {\n    callback,\n    id: \"GM.ADD\",\n    command: \"GM-ADD\",\n    display: {\n      category: \"Group Management/Group Commands\",\n      name: \"Add others to a group with /GM-add\"\n    }\n  },\n  {\n    callback,\n    id: \"GM.REMOVE\",\n    command: \"GM-REMOVE\",\n    display: {\n      category: \"Group Management/Group Commands\",\n      name: \"Remove others from a group with /GM-remove\"\n    }\n  },\n  {\n    callback,\n    id: \"GM.GSET\",\n    command: \"GM-GSET\",\n    display: {\n      category: \"Group Management/Permission Commands\",\n      name: \"Set a permission of a group with /GM-gset\"\n    }\n  },\n  {\n    callback,\n    id: \"GM.USET\",\n    command: \"GM-USET\",\n    display: {\n      category: \"Group Management/Permission Commands\",\n      name: \"Set a permission of a user with /GM-uset\"\n    }\n  },\n  {\n    callback,\n    id: \"GM.CREATE\",\n    command: \"GM-CREATE\",\n    display: {\n      category: \"Group Management/Group Commands\",\n      name: \"Create a group with /GM-create\"\n    }\n  },\n  {\n    callback,\n    id: \"GM.DESTORY\",\n    command: \"GM-DESTORY\",\n    display: {\n      category: \"Group Management/Group Commands\",\n      name: \"Destroy a group with /GM-destory\"\n    }\n  },\n  {\n    callback,\n    id: \"GM.LIST\",\n    command: \"GM-LIST\",\n    display: {\n      category: \"Group Management/Group Commands\",\n      name: \"View a grouplist with /GM-list\"\n    }\n  }\n  \n];","import { MessageBot, Player } from \"@bhmb/bot\";\nimport { GroupManagement } from \"./GroupManagement\";\nimport { BlockheadPermissions } from \"./Extensions/Blockheads\";\nimport { GroupManagementPermissions } from \"./Extensions/GroupManagement\";\n\nexport interface ExtensionPermission {\n  callback: (player: Player, args: string, bot : MessageBot, id: string) => void;\n  id: string;\n  command: string;\n  display: {\n    category: string;\n    name: string;\n  };\n  ignore?: {\n    admin?: boolean,\n    mod?: boolean,\n    staff?: boolean,\n    owner?: boolean\n  }\n};\n\nconst EXTENSION_ID = \"dapersonmgn/groupManagement\";\n\nMessageBot.registerExtension(EXTENSION_ID, ex => {\n  const GM = new GroupManagement(ex);\n  \n  for (const permission of BlockheadPermissions) {\n    const {id, command, callback, ignore} = permission;\n    GM.permissions.add({\n      id,\n      command,\n      callback,\n      ignore,\n      extension: EXTENSION_ID,\n      category: permission.display.category,\n      name: permission.display.name\n    });\n  }\n\n  for (const permission of GroupManagementPermissions) {\n    const {id, command, callback, ignore} = permission;\n    GM.permissions.add({\n      id,\n      command,\n      callback,\n      ignore,\n      extension: EXTENSION_ID,\n      category: permission.display.category,\n      name: permission.display.name\n    });\n  }\n\n  if (!GM.groups.get(\"Administrator\")) {\n    GM.groups.add({\n      name: \"Administrator\",\n      permissions: {\n        allowed: [\"BH.HELP\", \"BH.PLAYERS\", \"BH.KICK_MOD\", \"BH.KICK_ADMIN\", \"BH.KICK\", \"BH.BAN_MOD\", \"BH.BAN_ADMIN\", \"BH.BAN\", \"BH.BAN_NO_DEVICE_MOD\", \"BH.BAN_NO_DEVICE_ADMIN\", \"BH.BAN_NO_DEVICE\", \"BH.UNBAN\", \"BH.WHITELIST\", \"BH.UNWHITELIST\", \"BH.LIST_MODLIST\", \"BH.LIST_BLACKLIST\", \"BH.LIST_WHITELIST\", \"BH.LIST_ADMINLIST\", \"BH.LOADLISTS\", \"BH.STOP\", \"BH.PVPON\", \"BH.PVPOFF\", \"BH.MOD\", \"BH.UNMOD\", \"BH.ADMIN\", \"BH.UNADMIN\", \"BH.CLEAR_MODLIST\", \"BH.CLEAR_ADMINLIST\", \"BH.CLEAR_WHITELIST\", \"BH.CLEAR_BLACKLIST\"],\n        disabled: [\"BH.HELP\", \"BH.PLAYERS\", \"BH.KICK_MOD\", \"BH.KICK_ADMIN\", \"BH.KICK\", \"BH.BAN_MOD\", \"BH.BAN_ADMIN\", \"BH.BAN\", \"BH.BAN_NO_DEVICE_MOD\", \"BH.BAN_NO_DEVICE_ADMIN\", \"BH.BAN_NO_DEVICE\", \"BH.UNBAN\", \"BH.WHITELIST\", \"BH.UNWHITELIST\", \"BH.LIST_MODLIST\", \"BH.LIST_BLACKLIST\", \"BH.LIST_WHITELIST\", \"BH.LIST_ADMINLIST\", \"BH.LOADLISTS\", \"BH.STOP\", \"BH.PVPON\", \"BH.PVPOFF\", \"BH.MOD\", \"BH.UNMOD\", \"BH.ADMIN\", \"BH.UNADMIN\", \"BH.CLEAR_MODLIST\", \"BH.CLEAR_ADMINLIST\", \"BH.CLEAR_WHITELIST\", \"BH.CLEAR_BLACKLIST\"]\n      },\n      managed: true\n    });\n  }\n  if (!GM.groups.get(\"Moderator\")) {\n    GM.groups.add({\n      name: \"Moderator\",\n      permissions: {\n        allowed: [\"BH.HELP\", \"BH.PLAYERS\", \"BH.KICK\", \"BH.BAN\", \"BH.BAN_NO_DEVICE\", \"BH.UNBAN\", \"BH.WHITELIST\", \"BH.UNWHITELIST\", \"BH.LIST_BLACKLIST\", \"BH.LIST_WHITELIST\"],\n        disabled: [\"BH.HELP\", \"BH.PLAYERS\", \"BH.KICK\", \"BH.BAN\", \"BH.BAN_NO_DEVICE\", \"BH.UNBAN\", \"BH.WHITELIST\", \"BH.UNWHITELIST\", \"BH.LIST_BLACKLIST\", \"BH.LIST_WHITELIST\"]\n      },\n      managed: true\n    });\n  }\n  if (!GM.groups.get(\"Anyone\")) {\n    GM.groups.add({\n      name: \"Anyone\",\n      permissions: {\n        allowed: [],\n        disabled: []\n      },\n      managed: true\n    });\n  }\n\n  ex.exports.manager = GM;\n\n  /**\n   * Listener for when an extension is registered.\n   * @param extension Name of the extension.\n   */\n  const handleExtensionRegister = (extension : string) => {\n    const extensionExports = ex.bot.getExports(extension);\n    if (extensionExports && extensionExports.groupManagement) {\n\n      const permissions : ExtensionPermission[] = extensionExports.groupManagement;\n      for (const permissionData of permissions) {\n        GM.permissions.add({\n          extension,\n          category: permissionData.display.category,\n          name: permissionData.display.name,\n          id: permissionData.id,\n          command: permissionData.command,\n          callback: permissionData.callback,\n          ignore: permissionData.ignore\n        });\n      }\n\n    }\n  };\n\n  /**\n   * Listener for when an extension is deregistered.\n   * @param extension Name of the extension.\n   */\n  const handleExtensionDeregister = (extension : string) => {\n    const permissions = GM.permissions.getExtensionPermissions(extension);\n    for (const permission of permissions) {\n      permission.delete();\n    }\n  };\n\n  /**\n   * Loads all extensions that were loaded before this extension.\n   */\n  const handleExistingExtensions = () => {\n    const extensions = MessageBot.extensions;\n    for (const extension of extensions) {\n      handleExtensionRegister(extension);\n    }\n  };\n\n  ex.remove = () => {\n    MessageBot.extensionRegistered.unsub(handleExtensionRegister);\n    MessageBot.extensionDeregistered.unsub(handleExtensionDeregister);\n    GM.ui.uninstall();\n  };\n\n  ex.uninstall = () => {\n    GM.uninstall();\n    MessageBot.extensionRegistered.unsub(handleExtensionRegister);\n    MessageBot.extensionDeregistered.unsub(handleExtensionDeregister);\n  };\n\n  MessageBot.extensionRegistered.sub(handleExtensionRegister);\n  MessageBot.extensionDeregistered.sub(handleExtensionDeregister);\n  handleExistingExtensions();\n});"],"names":["SAVE_KEY","MessageBot","bot","EXTENSION_ID","helpMessages","callback"],"mappings":"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"}